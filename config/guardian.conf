# OpenClaw Guardian Configuration
# 
# This is the active configuration file for OpenClaw Guardian
# Deep health checks are ENABLED by default to catch Discord/WebSocket errors

# ═══════════════════════════════════════════════════════════════
# Gateway Health Check Settings
# ═══════════════════════════════════════════════════════════════

# Maximum number of restart attempts before giving up
MAX_RESTART_ATTEMPTS=3

# Seconds to wait between restart attempts
RESTART_DELAY=10

# Seconds between health checks (when run via cron/systemd timer)
HEALTH_CHECK_INTERVAL=120

# ═══════════════════════════════════════════════════════════════
# Deep Health Check (Connectivity Testing) - ENABLED
# ═══════════════════════════════════════════════════════════════

# Enable deep connectivity checks (tests WebSocket + Discord API)
DEEP_HEALTH_CHECK=true

# Seconds to wait for connectivity checks (default: 5)
CONNECTIVITY_TIMEOUT=5

# Minimum seconds between connectivity checks (rate limiting, default: 300 = 5 min)
CONNECTIVITY_CHECK_INTERVAL=300

# Discord bot token is loaded from config/tokens.txt
# Set DISCORD_BOT_TOKEN there to enable Discord API health checks

# ═══════════════════════════════════════════════════════════════
# Notification Settings
# ═══════════════════════════════════════════════════════════════

# Send desktop notification even on successful recovery
NOTIFY_ON_SUCCESS=false

# Wake up the agent (send message) when errors are detected
WAKE_ON_ERROR=true

# Name of the agent (used in notifications)
AGENT_NAME="orchestrator"

# Number of recent session lines to check for errors
ERROR_CHECK_WINDOW=10

# ═══════════════════════════════════════════════════════════════
# Advanced Settings
# ═══════════════════════════════════════════════════════════════

# Custom log directory (default: /tmp/openclaw-guardian)
LOG_DIR=/tmp/openclaw-guardian

# Error patterns to look for in agent session (regex)
# ERROR_PATTERNS="error|failed|tool failed|execution failed"
